# HTTP와 HTTPS

---

## HTTP
### HTTP란 무엇인가?
- HTTP는 HyperText Transfer Protocol의 약자로 W3상에서 정보를 주고 받는데 사용되는 프로토콜이다.
- 일반적으로 클라이언트와 서버 사이에 이루어지는 요청/응답 프로토콜로 사용된다.
- HTTP 프로토콜은 통신 시 사용하는 기본 포트를 80번으로 약속하고 있다.
  - HTTP 서버에서는 80번 포트를 열어두고 클라이언트로부터 요청을 대기한다.
  - 클라이언트는 TCP 80 포트를 사용해 서버에 요청 메시지를 보내고 서버는 이에 응답한다.

<br/>
<br/>

### HTTP의 특징과 문제점
1. HTTP는 평문을 그대로 통신에 사용한다. 즉 별도의 암호화 과정이 이루어지지 않는다.
   - TCP / IP 구조의 통신은 전부 통신 경로 상에서 데이터를 엿볼 수 있다. 패킷을 수집하면 내부 메시지는 평문으로 작성되어 있기에 통신 보안에 매우 취약하다.
   - 문제점 : 중간자에 의한 데이터 도청이 가능하다.
   - 보완방법 : 통신 자체를 암호화하거나 메시지를 암호화하는 두 가지 방법이 있다. 
     - SSL(Secure Socket Layer) 혹은 TLS(Transport Layer Security)라는 다른 프로토콜과 조합을 통해 HTTP 통신내용을 암호화할 수 있다.
     - 통신에 사용되는 메시지 컨텐츠 자체를 암호화한다.


2. HTTP를 이용해 전송된 데이터는 완전성을 증명할 수 없다.
   - 여기서 말하는 데이터의 완전성이란 정보의 정확성을 의미한다. 즉 서버 또는 클라이언트 측에서 수신하거나 송신한 내용이 본래 내용과 100% 일치한다는 보장이 없다.
   - 문제점 : 중간자에 의한 데이터의 악의적인 변조(중간자 공격)의 위험성도 있기에 전달받은 데이터의 신뢰성을 보장할 수 없다.
   - 보완방법 : 각종 HASH 값을 이용하거나 디지털 서명을 확인하는 방법들이 존재하나 확실하게 완전성을 보장하는 방법은 아니다.


3. HTTP 통신에서는 통신 상대를 확인하지 않는다.
   - HTTP 통신에서는 상대가 누구인지 확인하지 않기 때문에 누구든지 요청 메시지를 보낼 수 있다. 별도의 접근 제한이 없는 경우 서버는 요청이 들어오면 그에 맞는 응답을 한다.
   - 문제점 : 통신하는 대상이 원래 의도한 대상인지 확인할 수 없다. 또한 불특정 다수로부터의 의미없는 요청들을 모두 수신하기 때문에 Dos(Denial Of Service) 공격에 취약하다.
   - 보완 방법 : SSL 프로토콜을 통해 통신 상대를 확인하는 수단으로 증명서를 사용할 수 있다. 증명서는 공신력있는 제 3자 기관으로부터 발급된 것이기에 통신 대상이 실재함을 증명한다.

<br/>
<br/>

## HTTPS
### HTTPS란 무엇인가?
- HTTPS는 새로운 Application 계층의 프로토콜은 아니다. HTTP 통신 방식에서 소켓 부분을 SSL 혹은 TLS라는 프로토콜로 대체하는 것 뿐이다.
- 기본적인 사항은 HTTP와 동일하나 HTTP 메시지에 포함되는 컨텐츠 정보들이 모두 암호화 되는 것이 차이점이다.
- 모든 HTTP 요청 / 응답 데이터는 네트워크로 보내지기 전에 SSL을 통해 암호화된다.

![image](https://user-images.githubusercontent.com/31722737/205475781-e99358a2-1ee7-4e59-9976-7784a0935eeb.png)


<br/>
<br/>

### HTTPS 보안 작동 방식
- 클라이언트가 HTTPS Scheme을 갖는 URL 주소를 만나면,
  - 웹서버에 443 port로 TCP 연결을 요청한다.
  - 바이너리 포맷으로 된 몇몇 보안 매개변수를 핸드세이크 방식으로 교환한다.
  - 일련의 HTTPS 명령들이 이후 실행된다.
- HTTPS의 SSL에서는 공통키 암호화 방식과 공개키 암호화 방식을 혼합한 하이브리드 암호 시스템을 사용한다. 공통키를 공개키 암호화 방식으로 교환한 이후에는 공통키 암호를 이용하여 통신을 해나가는 방식이다.


<br/>
<br/>


## HTTP vs HTTPS
- HTTPS는 보안(암호화) 기능이 추가된 만큼 HTTP에 비해 CPU나 메모리 등 리소스를 사용하기 때문에 상대적으로 처리속도가 느리다.
- HTTPS는 개인정보 혹은 결제정보 등과 같이 정보 보호가 반드시 필요한 네트워크 통신이 필요할 시 사용할 수 있다.
- HTTP는 커머스의 특정 상품 정보, 뉴스 기사등과 같이 정보가 유출되어도 상관 없는 경우에 사용할 수 있다.
- 최근에는 하드웨어의 발전으로 속도 차이는 굉장히 미미한 수준이며 새로운 표준인 HTTP 2.0과 함께 사용하면 오히려 HTTPS가 더 빠르게 동작한다.
  - 이러한 이유로 현재 모든 웹 페이지에서 HTTPS를 사용하는 방향으로 바뀌어 가는 추세이다.



<br/>
<br/>
<br/>

---

### 레퍼런스
- https://github.com/JaeYeopHan/Interview_Question_for_Beginner/tree/master/Network#http%EC%99%80-https
- https://wooody92.github.io/network/HTTP-%EB%B3%B4%EC%95%88-%EB%AC%B8%EC%A0%9C%EC%99%80-HTTPS/