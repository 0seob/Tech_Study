# 쓰레드(Thread)

- 쓰레드는 프로세스 내에서 실행되는 흐름의 단위 혹은 CPU 스케줄링의 기본 단위
- 하나의 쓰레드는 코드가 실행되는 하나의 흐름이기 때문에, 한 프로세스 내에 쓰레드가 두 개라면 코드가 실행되는 흐름이 두 개 생긴다는 의미
- 모든 프로세스에는 한 개 이상의 쓰레드가 존재하며, 여러개의 쓰레드가 존재할 수 있다
- 쓰레드는 각자 별도의 stack영역을 가지고, 프로세스의 code, data, heap 영역을 공유함.
  - stack을 쓰레드마다 독립적으로 할당하는 이유 : stack은 함수 호출 시 전달되는 인자, 되돌아갈 주소값 및 함수 내에서 선언하는 변수 등을 저장하기 위해 사용되는 메모리 공간이므로
                                               stack 메모리 공간이 독립적이라는 것은 독립적인 함수 호출이 가능하다는 것이고 이는 독립적인 실행 흐름이 가능하게 함.

## 싱글 쓰레드

- 하나의 프로그램에서 동시에 하나의 코드만 실행할 수 있다는 뜻
- 각 쓰레드는 한번에 하나의 작업만 수행 가능
- 각 작업은 순차적으로 실행. 즉, 다음 작업을 시작하기 전에 이전 작업을 완료해야함.
- 대표적인 싱글 쓰레드 언어는 자바스크립트이다. 

## 멀티 쓰레드

- 프로세스안에 쓰레드가 두 개 이상이 있으면 멀티 쓰레드라고 함.
- 프로세스의 자원을 공유함
  - 하나의 프로세스 내에서 메모리 공간을 공유하기 때문에, 멀티 프로세스에 비해서 메모리 공간을 적게 차지한다. 따라서 CPU 성능을 올릴 수 있다.
- 향상된 응답성
  - 쓰레드는 프로세스의 code, data, heap 영역을 공유하기 때문에 해당 영역을 통해서 데이터을 주고 받을 수 있다. 따라서 그만큼 비용이 절약된다.
- Context Switching 비용이 적음
- 공유 자원에 대한 동기화
  - 동시성 이유가 발생할 수 있다.
    - 여러 쓰레드가 공유 자원을 서로 사용하면서 값을 변경하여 발생하는 문제 -> 따라서 Thread Safe하게 설계해야 함(Tread Safe : 동시성 이슈가 발생하지 않도록 설계)
- 독립적이지 않은 구조
  - 하나의 쓰레드에 오류가 발생해서 종료되면 같은 메모리를 공유하고 있는 다른 쓰레드에게도 영향을 미칠 수 있다.
- 대포적인 멀티 쓰레드 응용 프로그램으로 웹 서버가 있다.
-
